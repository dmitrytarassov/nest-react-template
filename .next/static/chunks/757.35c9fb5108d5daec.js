(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{25965:function(e,r,n){"use strict";n.r(r),n.d(r,{__dataProvider:function(){return Zr},default:function(){return zr}});var t=n(94776),o=n.n(t),i=n(52322),a=n(79170),l=n(54618),c=n(29119),s=n(78512),u=n(73557),d=n(94200),f=n.n(d),b=n(19167),p=n(2784),x=n(55684),j=n(28515),h=n(30993),m=n(95976);var v=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,i.jsx)(x.a,{children:(0,i.jsxs)(j.c,{rowClick:"edit",children:[(0,i.jsx)(h.n,{source:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,i.jsx)(m.J,{label:"\u0413\u043e\u0440\u043e\u0434",source:"city",render:function(e){return(0,b.p)(e.city)}}),(0,i.jsx)(h.n,{source:"weight",label:"\u0412\u0435\u0441",emptyText:"0"})]})})},y=n(67864),g=n(58694),w=n(37149),O=n.n(w),P=n(41698),S=n(46604),C=n(48747),k=(n(79075),n(85062)),I=n(48090);function _(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function T(){var e=_(["\n  width: 600px;\n  height: 632px;\n  position: relative;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n"]);return T=function(){return e},e}function E(){var e=_(["\n  line-height: 20px;\n  margin-bottom: 12px;\n"]);return E=function(){return e},e}function Z(){var e=_(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  .leaflet-container {\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n  }\n"]);return Z=function(){return e},e}var D={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},M=g.ZP.div.withConfig({componentId:"sc-e3658b24-0"})(T()),A=g.ZP.span.withConfig({componentId:"sc-e3658b24-1"})(E()),z=g.ZP.div.withConfig({componentId:"sc-e3658b24-2"})(Z());O().setAppElement("#__next");var K={moscow:[55.558741,37.378847],spb:[59.93863,30.31413]},V=function(){return(0,i.jsxs)("svg",{width:"48",height:"56",viewBox:"0 0 48 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("ellipse",{opacity:"0.3",cx:"24.5",cy:"54",rx:"9.5",ry:"2",fill:"#13EC50"}),(0,i.jsx)("path",{d:"M43 21.7755C43 35.3878 24.475 49 24.475 49C24.475 49 5 35.3878 5 21.7755C5 11.4061 13.5066 3 24 3C34.4934 3 43 11.4061 43 21.7755Z",fill:"#13EC50",stroke:"white",strokeWidth:"2"})]})},q=new k.DivIcon({iconUrl:"/public/marker.svg",shadowUrl:"/public/shadow.svg",iconSize:[48,56],iconAnchor:[48,56],shadowSize:[19,4],shadowAnchor:[9,0],html:(0,I.Dq)((0,i.jsx)(V,{}))});function F(e){var r=e.center,n=e.setCoordinates,t=(0,p.useState)(r),o=t[0],a=t[1],l=(0,p.useRef)(null),c=(0,p.useMemo)((function(){return{dragend:function(){var e=l.current;if(null!=e){var r=e.getLatLng();n([r.lat,r.lng]),a([r.lat,r.lng])}}}}),[]);return(0,i.jsx)(P.J,{draggable:!0,eventHandlers:c,position:o,ref:l,icon:q})}var B=function(e){var r=e.open,n=e.city,t=e.onClose,o=e.coordinates,a=(null===o||void 0===o?void 0:o.length)&&0!==o[0]?o:K[n]||K.spb,l=(0,p.useState)(a),c=l[0],s=l[1];return(0,i.jsx)(O(),{isOpen:r,style:D,contentLabel:"\u041a\u0430\u0440\u0442\u0430",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:(0,i.jsxs)(M,{children:[(0,i.jsxs)(A,{children:["\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b: ",c.join(", ")," ",(0,i.jsx)("button",{onClick:function(){return t(c)},children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"}),(0,i.jsx)("button",{onClick:function(){return t()},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c (\u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f)"})]}),(0,i.jsx)(z,{children:(0,i.jsxs)(S.h,{center:a,zoom:10,attributionControl:!1,children:[(0,i.jsx)(C.I,{attribution:"",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,i.jsx)(F,{center:a,setCoordinates:s})]})})]})})},R=n(90074),W=n(4071),U=n(46770),J=n(48582),Y=n(73692),L=n(90840),G=n(44102);function Q(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function N(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Q(e,r,n[r])}))}return e}function H(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $=function(e){var r=e.onChange,n=e.onBlur,t=e.refValue,o=H(e,["onChange","onBlur","refValue"]),a=(0,G.G)(N({onChange:r,onBlur:n},e)),l=a.field,c=a.fieldState,s=c.isTouched,u=c.invalid,d=c.error,f=a.formState.isSubmitted,b=a.isRequired;return(0,p.useEffect)((function(){l.onChange(t)}),[t]),(0,i.jsx)(U.o,N({},l,{label:e.label,error:(s||f)&&u,helperText:(s||f)&&u?d:"",required:b},o))};function X(){var e,r,n=(e=["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: space-between;\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return X=function(){return n},n}var ee=g.ZP.div.withConfig({componentId:"sc-a57a131d-0"})(X()),re=function(e){var r=e.children;return(0,i.jsx)(ee,{children:r})},ne=n(1448);function te(){var e,r,n=(e=["\n  img {\n    width: 150px;\n    height: 150px;\n    object-fit: contain;\n  }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return te=function(){return n},n}var oe=(0,g.ZP)(ne.M).withConfig({componentId:"sc-31319a68-0"})(te()),ie=function(e){var r,n,t,o=e.record,a=e.source;return"string"==typeof o&&(r={},n=a,t="/public/".concat(o),n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,o=r),(0,i.jsx)(oe,{record:o,source:a})},ae=n(7037),le=function(e){return(0,ae.Z)(e).trim().replace(/[^a-zA-Z\ ]/gm,"").replace(/[\ ]+/gm,"_").toLowerCase()},ce=n(29967),se=[(0,ce.C1)(),(0,ce.Do)()],ue=(0,ce.C1)(),de=[(0,ce.C1)(),function(e){return e<79999999999&&e>71e9?null:"Please set phone un format 79000000"}],fe=n(14053);function be(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function pe(){var e=be(["\n  background: #eee;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 72px 0;\n"]);return pe=function(){return e},e}function xe(){var e=be(["\n  width: 300px;\n"]);return xe=function(){return e},e}function je(){var e=be(["\n  background-color: #fff;\n  width: 600px;\n"]);return je=function(){return e},e}var he=g.ZP.div.withConfig({componentId:"sc-ae309ca4-0"})(pe()),me=(g.ZP.div.withConfig({componentId:"sc-ae309ca4-1"})(xe()),g.ZP.div.withConfig({componentId:"sc-ae309ca4-2"})(je())),ve=he;function ye(){var e=(0,p.useState)({id:"",weight:0,name:"",url:"",icon:"",address:"",coordinates:"",workingTime:"",rating:9,phone:"79998887766",city:"spb"}),r=(e[0],e[1],function(){});return(0,p.useEffect)((function(){var e=setInterval(r,3e3);return setTimeout(r,100),function(){clearInterval(e)}}),[]),(0,i.jsx)(g.f6,{theme:fe.rS,children:(0,i.jsx)(ve,{children:(0,i.jsx)(me,{})})})}function ge(e){var r=e.setCity,n=e.coordinates,t=e.setMapIsOpen,o=(0,p.useState)(""),a=o[0],l=o[1];return(0,i.jsxs)(R.W,{id:"rental_form",children:[(0,i.jsx)(W.K,{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(U.o,{source:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043d\u0442\u0430\u043b\u0430",validate:ue,resettable:!0,onChange:function(e){return l(e.target.value)}}),(0,i.jsx)($,{label:"\u0427\u041f\u0423",source:"url",validate:ue,disabled:!0,refValue:le(a)}),(0,i.jsx)(J.Y,{source:"weight",validate:ue,label:"\u0412\u0435\u0441",min:0,max:1e3}),(0,i.jsx)(Y.G,{label:"\u0410\u0434\u0440\u0435\u0441",source:"city",defaultValue:"spb",choices:[{id:"spb",name:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"},{id:"moscow",name:"\u041c\u043e\u0441\u043a\u0432\u0430"}],onChange:function(e){return r(e.target.value)}}),(0,i.jsx)(U.o,{multiline:!0,source:"workingTime",validate:ue,label:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",rows:3}),(0,i.jsx)(U.o,{source:"delivery",label:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),(0,i.jsx)(U.o,{source:"selfService",label:"Self-Service"}),(0,i.jsx)(U.o,{source:"repair",label:"\u0420\u0435\u043c\u043e\u043d\u0442"}),(0,i.jsx)(U.o,{source:"insurance",label:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430"}),(0,i.jsx)(J.Y,{source:"rating",validate:ue,label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",min:1,max:10}),(0,i.jsx)(L.a,{source:"icon",label:"\u0418\u043a\u043e\u043d\u043a\u0430",validate:ue,children:(0,i.jsx)(ie,{source:"icon"})})]})}),(0,i.jsx)(W.K,{label:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(U.o,{source:"email",validate:se,label:"Email"}),(0,i.jsx)(U.o,{source:"phone",validate:de,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 79xxxxxxxxx"}),(0,i.jsx)(U.o,{source:"address",validate:ue,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0430\u0434\u0440\u0435\u0441\u0430"}),(0,i.jsx)($,{id:"coordinates_input",source:"coordinates",validate:ue,label:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",refValue:n.join(","),onClick:function(){return t(!0)}}),(0,i.jsx)(U.o,{source:"vk",label:"vk"}),(0,i.jsx)(U.o,{source:"telegram",label:"Telegram"}),(0,i.jsx)(U.o,{source:"web",label:"\u0421\u0430\u0439\u0442"})]})}),(0,i.jsx)(W.K,{label:"\u0421\u0415\u041e",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(U.o,{resettable:!0,source:"seo_title",label:"Title"}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_description",label:"Meta description",multiline:!0,rows:4}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_keywords",label:"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430",multiline:!0,rows:4})]})}),(0,i.jsx)(W.K,{label:"Preview: Card",children:(0,i.jsx)(ye,{})})]})}function we(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Oe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){we(e,r,n[r])}))}return e}var Pe=function(e){var r=(0,p.useState)(!1),n=r[0],t=r[1],o=(0,p.useState)("spb"),a=o[0],l=o[1],c=(0,p.useState)([0,0]),s=c[0],u=c[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{open:n,city:a,onClose:function(e){u(e),t(!1)}}),(0,i.jsx)(y.Q,Oe({},e,{redirect:"edit",children:(0,i.jsx)(ge,{setMapIsOpen:t,coordinates:s,setCity:l})}))]})},Se=n(41078),Ce=n(77219);function ke(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ie(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ke(e,r,n[r])}))}return e}var _e=function(e){var r=(0,p.useState)(!1),n=r[0],t=r[1],o=(0,p.useState)("spb"),a=o[0],l=o[1],c=(0,p.useState)([0,0]),s=c[0],u=c[1];return(0,p.useEffect)((function(){setTimeout((function(){var e=document.querySelector("#coordinates_input");e&&u(e.value.split(",").map((function(e){return+e})))}),500)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{open:n,city:a,onClose:function(e){e?(u(e),t(!1)):t(!1)},coordinates:s}),(0,i.jsx)(Ce.I,Ie({},e,{redirect:"edit",children:(0,i.jsx)(ge,{coordinates:s,setCity:l,setMapIsOpen:t})}))]})},Te=n(58989);var Ee=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,i.jsx)(x.a,{children:(0,i.jsxs)(j.c,{rowClick:"edit",children:[(0,i.jsx)(h.n,{source:"name"}),(0,i.jsx)(Te.I,{source:"unique"})]})})},Ze=n(49510),De=function(){return(0,i.jsxs)(R.W,{warnWhenUnsavedChanges:!0,id:"product_form",children:[(0,i.jsx)(W.K,{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(Ze.K,{source:"unique",label:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"}),(0,i.jsx)(U.o,{resettable:!0,source:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",validate:ue}),(0,i.jsx)(U.o,{resettable:!0,source:"shortDescription",label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0434\u043b\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438)",validate:ue}),(0,i.jsx)(U.o,{multiline:!0,resettable:!0,source:"properties",label:"\u0425\u0430\u0440\u0435\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438. \u0424\u043e\u0440\u043c\u0430\u0442: \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435---\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",rows:8}),(0,i.jsx)(U.o,{multiline:!0,resettable:!0,source:"propertiesText",label:"\u0425\u0430\u0440\u0435\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 (\u0442\u0435\u043a\u0441\u0442).",rows:8}),(0,i.jsx)(U.o,{resettable:!0,multiline:!0,source:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",rows:8}),(0,i.jsx)(L.a,{source:"photos",validate:ue,multiple:!0,children:(0,i.jsx)(ie,{source:"photos"})})]})}),(0,i.jsx)(W.K,{label:"Preview: Card"}),(0,i.jsx)(W.K,{label:"Preview: Page"})]})};function Me(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Ae=function(e){return(0,i.jsx)(y.Q,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Me(e,r,n[r])}))}return e}({},e,{redirect:"list",children:(0,i.jsx)(De,{})}))};function ze(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Ke=function(e){return(0,i.jsx)(Ce.I,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ze(e,r,n[r])}))}return e}({},e,{redirect:"edit",children:(0,i.jsx)(De,{})}))},Ve=n(47626);var qe=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,i.jsx)(x.a,{children:(0,i.jsxs)(j.c,{rowClick:"edit",children:[(0,i.jsx)(Ve.je,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",source:"productId",reference:"product",children:(0,i.jsx)(h.n,{source:"name"})}),(0,i.jsx)(Ve.je,{label:"\u0420\u0435\u043d\u0442\u0430\u043b",source:"rentalId",reference:"rental",children:(0,i.jsx)(h.n,{source:"name"})}),(0,i.jsx)(h.n,{source:"price",label:"\u0426\u0435\u043d\u0430"}),(0,i.jsx)(h.n,{source:"discountPrice",label:"\u0426\u0435\u043d\u0430 \u043f\u043e \u0441\u043a\u0438\u0434\u043a\u0435"}),(0,i.jsx)(h.n,{source:"promotionType",label:"\u0422\u0438\u043f \u0430\u043a\u0446\u0438\u0438"}),(0,i.jsx)(h.n,{source:"weight",label:"\u0412\u0435\u0441",emptyText:"0"}),(0,i.jsx)(Te.I,{source:"showOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u0445 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439?"}),(0,i.jsx)(Te.I,{source:"showUniqueOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439"})]})})},Fe=n(74335),Be=n(2939),Re=n(9066),We=n(71009),Ue=n(38558);function Je(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ye(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Je(e,r,n[r])}))}return e}function Le(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ge=function(e){var r=e.onChange,n=e.onBlur,t=e.refValue,o=e.type,a=void 0===o?"text":o,l=Le(e,["onChange","onBlur","refValue","type"]),c=(0,G.G)(Ye({onChange:r,onBlur:n},e)),s=c.field,u=c.fieldState,d=u.isTouched,f=u.invalid,b=u.error,p=c.formState.isSubmitted,x=c.isRequired;return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsxs)(i.Fragment,{children:["text"===a&&(0,i.jsx)(U.o,Ye({type:a},s,{label:e.label,error:(d||p)&&f,helperText:(d||p)&&f?b:"",required:x},l)),"date"===a&&(0,i.jsx)(Ue.W,Ye({type:a},s,{label:e.label,error:(d||p)&&f,helperText:(d||p)&&f?b:"",required:x},l)),"boolean"===a&&(0,i.jsx)(Ze.K,{source:e.source,label:e.label})]})})},Qe=function(){var e=(0,Fe.j)(),r=(0,p.useState)(null===e||void 0===e?void 0:e.promotionType),n=r[0],t=r[1];return(0,p.useEffect)((function(){""===n&&(e.promotionText="",e.promotionDescription="",e.promotionShortDescription="")}),[n]),(0,i.jsxs)(R.W,{id:"rental_product_form",children:[(0,i.jsx)(W.K,{label:"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442 \u043a \u0440\u0435\u043d\u0442\u0430\u043b\u0443",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(Be.D,{label:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442",reference:"product",source:"productId",validate:ue,sort:{field:"name",order:"ASC"},children:(0,i.jsx)(Re.P,{optionText:"name",label:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442"})}),(0,i.jsx)(Be.D,{label:"\u0420\u0435\u043d\u0442\u0430\u043b",reference:"rental",source:"rentalId",validate:ue,children:(0,i.jsx)(Re.P,{optionText:"name",label:"\u0420\u0435\u043d\u0442\u0430\u043b"})}),(0,i.jsx)(J.Y,{source:"weight",validate:ue,label:"\u0412\u0435\u0441",min:0,max:1e3}),(0,i.jsx)(U.o,{resettable:!0,source:"externalUrl",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043d\u0442\u0430\u043b\u0430",validate:ue}),(0,i.jsx)(U.o,{resettable:!0,source:"url",label:"\u0427\u041f\u0423",validate:ue}),(0,i.jsx)(J.Y,{source:"price",label:"\u0426\u0435\u043d\u0430",validate:ue}),(0,i.jsx)(J.Y,{source:"discountPrice",label:"\u0426\u0435\u043d\u0430 \u043f\u043e \u0441\u043a\u0438\u0434\u043a\u0435"}),(0,i.jsx)(We.l,{label:"\u0410\u043a\u0446\u0438\u044f",source:"promotionType",choices:[{id:"new",name:"\u041d\u043e\u0432\u0438\u043d\u043a\u0430"},{id:"sale",name:"\u0421\u043a\u0438\u0434\u043a\u0430"}],onChange:function(e){return t(e.target.value)}}),(0,i.jsx)(Ge,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438",source:"date",refValue:n,type:"date"}),(0,i.jsx)(Ge,{label:"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043b\u0435\u0439\u0431\u043b\u0430 (\u043d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435)",source:"promotionText",refValue:n}),(0,i.jsx)(Ge,{label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0434\u043b\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438)",source:"promotionShortDescription",refValue:n}),(0,i.jsx)(Ge,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438",source:"promotionDescription",refValue:n,multiline:!0,rows:8}),(0,i.jsx)(Ge,{type:"boolean",refValue:n,source:"showOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439"}),(0,i.jsx)(Ze.K,{source:"showUniqueOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439"})]})}),(0,i.jsx)(W.K,{label:"\u0421\u0415\u041e",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(U.o,{resettable:!0,source:"seo_title",label:"Title"}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_description",label:"Meta description",multiline:!0,rows:4}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_keywords",label:"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430",multiline:!0,rows:4})]})}),(0,i.jsx)(W.K,{label:"Preview: Card"}),(0,i.jsx)(W.K,{label:"Preview: Page"})]})};function Ne(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var He=function(e){return(0,i.jsx)(y.Q,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Ne(e,r,n[r])}))}return e}({},e,{redirect:"list",children:(0,i.jsx)(Qe,{})}))};function $e(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Xe=function(e){return(0,i.jsx)(Ce.I,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){$e(e,r,n[r])}))}return e}({},e,{redirect:"edit",children:(0,i.jsx)(Qe,{})}))},er=n(25237);var rr=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,i.jsx)(x.a,{children:(0,i.jsxs)(j.c,{rowClick:"edit",children:[(0,i.jsx)(h.n,{source:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,i.jsx)(h.n,{source:"shortText",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,i.jsx)(Ve.je,{label:"\u0420\u0435\u043d\u0442\u0430\u043b",source:"rentalId",reference:"rental",children:(0,i.jsx)(h.n,{source:"name"})}),(0,i.jsx)(h.n,{source:"weight",label:"\u0412\u0435\u0441",emptyText:"0"}),(0,i.jsx)(Te.I,{source:"showOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439?"})]})})},nr=function(){var e=(0,p.useState)(""),r=e[0],n=e[1];return(0,i.jsxs)(R.W,{id:"promotion_form",children:[(0,i.jsx)(W.K,{label:"\u0410\u043a\u0446\u0438\u044f",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(Be.D,{label:"\u0420\u0435\u043d\u0442\u0430\u043b",reference:"rental",source:"rentalId",validate:ue,children:(0,i.jsx)(Re.P,{optionText:"name",label:"\u0420\u0435\u043d\u0442\u0430\u043b"})}),(0,i.jsx)(U.o,{resettable:!0,source:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",validate:ue,onChange:function(e){return n(e.target.value)}}),(0,i.jsx)(J.Y,{source:"weight",validate:ue,label:"\u0412\u0435\u0441",min:0,max:1e3}),(0,i.jsx)(U.o,{resettable:!0,source:"externalUrl",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u043a\u0446\u0438\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0440\u0435\u043d\u0442\u0430\u043b\u0430",validate:ue}),(0,i.jsx)($,{label:"\u0427\u041f\u0423",source:"url",validate:ue,disabled:!0,refValue:le(r)}),(0,i.jsx)(U.o,{resettable:!0,source:"shortText",label:"\u0422\u0435\u043a\u0441\u0442 \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435",validate:ue}),(0,i.jsx)(U.o,{resettable:!0,source:"text",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438",validate:ue,multiline:!0,rows:8}),(0,i.jsx)(We.l,{label:"\u0422\u0438\u043f \u0430\u043a\u0446\u0438\u0438",source:"promotionType",defaultValue:"new",choices:[{id:"new",name:"\u041d\u043e\u0432\u0438\u043d\u043a\u0430"},{id:"sale",name:"\u0421\u043a\u0438\u0434\u043a\u0430"}]}),(0,i.jsx)(Ue.W,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0446\u0438\u0438",source:"date",type:"date"}),(0,i.jsx)(U.o,{label:"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043b\u0435\u0439\u0431\u043b\u0430 (\u043d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435)",source:"promotionText",validate:ue}),(0,i.jsx)(L.a,{source:"photos",validate:ue,multiple:!0,children:(0,i.jsx)(ie,{source:"photos"})}),(0,i.jsx)(Ze.K,{source:"showOnMainPage",label:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439"})]})}),(0,i.jsx)(W.K,{label:"\u0421\u0415\u041e",children:(0,i.jsxs)(re,{children:[(0,i.jsx)(U.o,{resettable:!0,source:"seo_title",label:"Title"}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_description",label:"Meta description",multiline:!0,rows:4}),(0,i.jsx)(U.o,{resettable:!0,source:"seo_keywords",label:"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430",multiline:!0,rows:4})]})}),(0,i.jsx)(W.K,{label:"Preview: Card"}),(0,i.jsx)(W.K,{label:"Preview: Page"})]})};function tr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var or=function(e){return(0,i.jsx)(y.Q,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){tr(e,r,n[r])}))}return e}({},e,{redirect:"list",children:(0,i.jsx)(nr,{})}))};function ir(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var ar=function(e){return(0,i.jsx)(Ce.I,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){ir(e,r,n[r])}))}return e}({},e,{redirect:"edit",children:(0,i.jsx)(nr,{})}))},lr=n(57054),cr=n(49284),sr=n(25485),ur=n(36284),dr=n(88206),fr=n(11511),br=n(24254),pr=n(86973),xr=n(17377),jr=n(83249),hr=n(38553);function mr(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function vr(e,r,n,t,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?r(c):Promise.resolve(c).then(t,o)}function yr(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,r)||wr(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e){return function(e){if(Array.isArray(e))return mr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,r){if(e){if("string"===typeof e)return mr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mr(e,r):void 0}}var Or=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var r=yr(p.useState("spb"),2),n=r[0],t=r[1],a=yr(p.useState(!0),2),l=a[0],c=a[1],s=yr(p.useState([]),2),u=s[0],d=s[1],f=function(){var e,r=(e=o().mark((function e(){var r,n,t,i,a,l,c,s,u,f,b,p,x,j,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zr(Se.PC,"promotions",{filter:{},meta:void 0,pagination:{page:1,perPage:100},sort:{field:"weight",order:"DESC"}});case 2:return r=e.sent,n=r.data.filter((function(e){return e.weight})),t=n.map((function(e){return e.rentalId})),e.next=7,fetch("/api/rental?filter[]=_id,in,".concat(t.join("|")));case 7:return i=e.sent,e.next=10,i.json();case 10:return a=e.sent,l=n.map((function(e){var r=a.data.find((function(r){return r.id===e.rentalId}));if(r)return{id:e.id,name:"".concat(e.name," (").concat(r.name,")"),type:"\u0410\u043a\u0446\u0438\u044f",weight:e.weight,city:r.city,unique:!1,showOnMainPage:e.showOnMainPage}})).filter(Boolean),e.next=14,Zr(Se.PC,"rental_products",{filter:{},meta:void 0,pagination:{page:1,perPage:100},sort:{field:"weight",order:"DESC"}});case 14:return c=e.sent,s=c.data.filter((function(e){return e.weight>0})),u=s.map((function(e){return e.productId})),e.next=19,fetch("/crud/product?filter[]=_id,in,".concat(u.join("|")));case 19:return f=e.sent,e.next=22,f.json();case 22:return b=e.sent,p=s.map((function(e){return e.rentalId})),e.next=26,fetch("/crud/rental?filter[]=_id,in,".concat(p.join("|")));case 26:return x=e.sent,e.next=29,x.json();case 29:j=e.sent,h=s.map((function(e){var r=b.data.find((function(r){return r.id===e.productId})),n=j.data.find((function(r){return r.id===e.rentalId}));if(r&&n)return{name:"".concat(r.name," (").concat(n.name,")"),type:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f",id:e.id,weight:e.weight,city:n.city,unique:r.unique,showOnMainPage:e.showOnMainPage}})).filter(Boolean),d(gr(h).concat(gr(l)).sort((function(e,r){return e.weight<r.weight?1:-1})));case 32:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){vr(i,t,o,a,l,"next",e)}function l(e){vr(i,t,o,a,l,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return p.useEffect((function(){f()}),[]),console.log(u),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lr.D,{title:"My Page"}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(hr.Z,{size:"small","aria-label":"small button group",style:{marginTop:20},children:[(0,i.jsx)(jr.Z,{variant:"spb"===n?"contained":void 0,onClick:function(){return t("spb")},children:"Spb"}),(0,i.jsx)(jr.Z,{variant:"moscow"===n?"contained":void 0,onClick:function(){return t("moscow")},children:"Msk"})]}),(0,i.jsxs)(hr.Z,{size:"small","aria-label":"small button group",style:{marginTop:20},children:[(0,i.jsx)(jr.Z,{variant:l?"contained":void 0,onClick:function(){return c(!0)},children:"\u0422\u043e\u043b\u044c\u043a\u043e \u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),(0,i.jsx)(jr.Z,{variant:l?void 0:"contained",onClick:function(){return c(!1)},children:"\u0412\u0435\u0441\u044c \u0441\u043f\u0438\u0441\u043e\u043a"})]}),(0,i.jsx)(fr.Z,{component:xr.Z,style:{marginTop:20},children:(0,i.jsxs)(sr.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,i.jsx)(br.Z,{children:(0,i.jsxs)(pr.Z,{children:[(0,i.jsx)(dr.Z,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,i.jsx)(dr.Z,{align:"right",children:"\u0422\u0438\u043f"}),(0,i.jsx)(dr.Z,{align:"right",children:"\u0412\u0435\u0441"})]})}),(0,i.jsx)(ur.Z,{children:u.filter((function(e){return e.city===n})).filter((function(e){return!l||e.showOnMainPage})).map((function(e){return(0,i.jsxs)(pr.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.jsx)(dr.Z,{component:"th",scope:"row",children:(0,i.jsx)(cr.r,{to:"".concat("\u0410\u043a\u0446\u0438\u044f"===e.type?"/promotions":"/rental_products","/").concat(e.id),children:e.name})}),(0,i.jsx)(dr.Z,{align:"right",children:e.type}),(0,i.jsx)(dr.Z,{align:"right",children:e.weight||0})]},e.name)}))})]})})]})]})},Pr=n(65762),Sr=n(74840),Cr=n(19358);function kr(e,r,n,t,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?r(c):Promise.resolve(c).then(t,o)}function Ir(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){Ir(e,r,n[r])}))}return e}var Tr=f()("/crud",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.headers||(r.headers=new Headers({Accept:"application/json"}));var n=JSON.parse(localStorage.getItem("auth")||"{}").token;return r.headers.set("Authorization","Bearer ".concat(n)),a.fetchJson(e,r)})),Er=function(e){return new Promise((function(r,n){var t=new FileReader;t.onload=function(){return r(t.result)},t.onerror=n,t.readAsDataURL(e.rawFile)}))},Zr=function(){var e,r=(e=o().mark((function e(r,n,t){var i,a,l,c,s,u,d,f,b,p,x,j,h,m,v,y,g,w,O,P,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==Se.JV&&r!==Se.wb){e.next=75;break}i=!0,a=!1,l=void 0,e.prev=2,c=Object.keys(t.data)[Symbol.iterator]();case 4:if(i=(s=c.next()).done){e.next=55;break}if(u=s.value,!Array.isArray(t.data[u])){e.next=41;break}d=[],f=!0,b=!1,p=void 0,e.prev=9,x=t.data[u][Symbol.iterator]();case 11:if(f=(j=x.next()).done){e.next=24;break}if(!(h=j.value).rawFile){e.next=20;break}return e.next=16,Er(h);case 16:m=e.sent,d.push(m),e.next=21;break;case 20:"string"===typeof h&&d.push(h);case 21:f=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),b=!0,p=e.t0;case 30:e.prev=30,e.prev=31,f||null==x.return||x.return();case 33:if(e.prev=33,!b){e.next=36;break}throw p;case 36:return e.finish(33);case 37:return e.finish(30);case 38:t.data[u]=d,e.next=52;break;case 41:if(o=null===(v=t.data[u])||void 0===v?void 0:v.rawFile,!(null!=(C=File)&&"undefined"!==typeof Symbol&&C[Symbol.hasInstance]?C[Symbol.hasInstance](o):o instanceof C)){e.next=52;break}if(!(y=t.data[u]).rawFile){e.next=51;break}return e.next=47,Er(y);case 47:g=e.sent,t.data[u]=g,e.next=52;break;case 51:"string"===typeof y&&(t.data[u]=y);case 52:i=!0,e.next=4;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e.catch(2),a=!0,l=e.t1;case 61:e.prev=61,e.prev=62,i||null==c.return||c.return();case 64:if(e.prev=64,!a){e.next=67;break}throw l;case 67:return e.finish(64);case 68:return e.finish(61);case 69:return e.next=71,Tr(r,n,t);case 71:return w=e.sent,e.abrupt("return",_r({},w,{data:_r({},w.data,{id:w.data._id})}));case 75:if(r!==Se.PC){e.next=81;break}return e.next=78,Tr(r,n,t);case 78:return O=e.sent,P=O.data,e.abrupt("return",_r({},O,{data:P}));case 81:return e.next=83,Tr(r,n,t);case 83:if(S=e.sent,r!==Se.Jd){e.next=86;break}return e.abrupt("return",S.data);case 86:return e.abrupt("return",S);case 87:case"end":return e.stop()}var o,C}),e,null,[[2,57,61,69],[9,26,30,38],[31,,33,37],[62,,64,68]])})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){kr(i,t,o,a,l,"next",e)}function l(e){kr(i,t,o,a,l,"throw",e)}a(void 0)}))});return function(e,n,t){return r.apply(this,arguments)}}(),Dr=function(){return(0,i.jsxs)(Sr.v,{children:[(0,i.jsx)(Sr.v.ResourceItem,{name:"rental"}),(0,i.jsx)(Sr.v.ResourceItem,{name:"product"}),(0,i.jsx)(Sr.v.ResourceItem,{name:"rental_products"}),(0,i.jsx)(Sr.v.ResourceItem,{name:"promotions"}),(0,i.jsx)(Sr.v.Item,{to:"/products_with_weight",primaryText:"\u041f\u043e\u0437\u0438\u0446\u0438\u0438 \u0441 \u0432\u0435\u0441\u043e\u043c",leftIcon:(0,i.jsx)(Cr.Z,{})})]})},Mr=function(e){return(0,i.jsx)(Pr.A,_r({},e,{menu:Dr}))},Ar=function(){return(0,i.jsxs)(l.w,{layout:Mr,dataProvider:Zr,children:[(0,i.jsx)(c._,{name:"rental",list:v,create:Pe,edit:_e}),(0,i.jsx)(c._,{name:"product",list:Ee,create:Ae,edit:Ke}),(0,i.jsx)(c._,{name:"rental_products",list:qe,create:He,edit:Xe}),(0,i.jsx)(c._,{name:"promotions",list:rr,create:or,edit:ar}),(0,i.jsx)(s.G,{children:(0,i.jsx)(u.AW,{path:"products_with_weight",element:(0,i.jsx)(Or,{})})})]})},zr=(0,er.default)((function(){return Promise.resolve(Ar)}),{ssr:!1})},53260:function(){}}]);