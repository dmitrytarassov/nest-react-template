(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{50268:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/promotions",function(){return e(53773)}])},89852:function(n,t,e){"use strict";e.d(t,{m:function(){return r}});var r=(0,e(2784).createContext)({promotions:[]})},53773:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return E},default:function(){return k}});var r=e(94776),o=e.n(r),u=e(52322),i=e(2784),c=e(99754),s=e(19587),a=e(22624),f=e(5632),l=e(71143),v=e(91186),p=e(84532),h=e(24238),m=e(18975),d=e(46497),w=function(n){var t=n.promotions,e=(0,f.useRouter)(),r=(0,i.useState)(""),o=r[0],c=r[1],s=(0,d.S)().activeRental,a=(0,i.useState)(!1),w=a[0],_=a[1],x=(0,l.w)().rentals;(0,i.useEffect)((function(){return _(!0),function(){_(!1)}}),[]),(0,i.useEffect)((function(){var n=x.find((function(n){return n.id===s}));w&&n&&(console.log("go to /rentals/".concat(n.url)),n&&e.push("/rentals/".concat(n.url)))}),[s]),(0,i.useEffect)((function(){(0,h.W)([],"")}),[]);var y=t.filter((function(n){return"sale"===n.promotionType})).filter((function(n){return 0===o.length||n.name.toLowerCase().includes(o.toLowerCase())})),E=t.filter((function(n){return"new"===n.promotionType})).filter((function(n){return 0===o.length||n.name.toLowerCase().includes(o.toLowerCase())}));return(0,u.jsxs)(p.Z,{children:[(0,u.jsx)(v.Z,{breadcrumbs:[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{name:"\u0410\u043a\u0446\u0438\u0438 \u0438 \u043d\u043e\u0432\u0438\u043d\u043a\u0438",link:"/rentals/promotions"}],backLink:"/",title:"\u0410\u043a\u0446\u0438\u0438 \u0438 \u043d\u043e\u0432\u0438\u043d\u043a\u0438",search:{value:o,onChange:c}}),(0,u.jsx)(m.Z,{news:E,promotions:y})]})},_=e(14986);function x(n,t,e,r,o,u,i){try{var c=n[u](i),s=c.value}catch(a){return void e(a)}c.done?t(s):Promise.resolve(s).then(r,o)}var y=function(){var n,t=(n=o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.Bo)(t);case 2:return e=n.sent,n.next=5,(0,a.mJ)(e);case 5:return r=n.sent,n.abrupt("return",{promotions:r});case 7:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function i(n){x(u,r,o,i,c,"next",n)}function c(n){x(u,r,o,i,c,"throw",n)}i(void 0)}))});return function(n){return t.apply(this,arguments)}}(),E=!0,k=function(n){var t=n.promotions,e=n.city,r=(0,i.useState)(t),o=r[0],a=r[1],f=(0,_.h)().city;(0,i.useEffect)((function(){t||y(e).then((function(n){a(n.promotions)}))}),[]),(0,i.useEffect)((function(){y(f).then((function(n){a(n.promotions)}))}),[f]);var l=o.length?o:t||[];return(0,u.jsx)(c.C,{children:(0,u.jsx)(s.l,{children:l.length&&(0,u.jsx)(w,{promotions:l})})})}},99754:function(n,t,e){"use strict";e.d(t,{C:function(){return l}});var r=e(94776),o=e.n(r),u=e(52322),i=e(2784),c=e(89852),s=e(22624),a=e(14986);function f(n,t,e,r,o,u,i){try{var c=n[u](i),s=c.value}catch(a){return void e(a)}c.done?t(s):Promise.resolve(s).then(r,o)}var l=function(n){var t=n.children,e=n._promotions,r=void 0===e?[]:e,l=(0,a.h)().city,v=(0,i.useState)(r),p=v[0],h=v[1],m=(0,i.useState)(),d=m[0],w=m[1],_=function(){var n,t=(n=o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.yv)(l,!0);case 2:t=n.sent,h(t),w(!0);case 5:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function i(n){f(u,r,o,i,c,"next",n)}function c(n){f(u,r,o,i,c,"throw",n)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){d&&_()}),[l]),(0,i.useEffect)((function(){r.length?w(!0):_()}),[]),(0,u.jsx)(c.m.Provider,{value:{promotions:p},children:t})}}},function(n){n.O(0,[177,651,506,521,95,774,888,179],(function(){return t=50268,n(n.s=t);var t}));var t=n.O();_N_E=t}]);