(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{617:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rentals/[id]/[product]",function(){return r(11237)}])},11237:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSP:function(){return b},default:function(){return w}});var n=r(94776),o=r.n(n),u=r(52322),c=r(2784),i=r(22624),a=r(5632),s=r(71143),f=r(40696),p=r(91186),l=r(84532),d=r(58694),v=r(46497),x=r(14986);function h(){var t,e,r=(t=[""],e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}})));return h=function(){return r},r}var m=(0,d.ZP)(l.Z).withConfig({componentId:"sc-b2873e73-0"})(h()),P=function(t){var e=t.rental,r=t.product,n=t.rentalProduct,o=(0,x.h)().city,i=(0,a.useRouter)(),l=(0,s.w)().rentals,d=(0,v.S)().activeRental,h=(0,c.useState)(!1),P=h[0],_=h[1],k=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{name:"\u0420\u0435\u043d\u0442\u0430\u043b\u044b",link:"/rentals"},{name:e.name,link:"/rentals/".concat(e.url)},{name:r.name,link:"/rentals/".concat(e.url,"/").concat(n.url)}];(0,c.useEffect)((function(){return _(!0),function(){_(!1)}}),[]),(0,c.useEffect)((function(){P&&i.push("/rentals/")}),[o]),(0,c.useEffect)((function(){if(d&&P){var t=l.find((function(t){return t.id===d}));t&&i.push("/rentals/".concat(t.url))}}),[d]);var b={photos:r.photos,date:n.date?n.date.toString():void 0,promotionText:n.promotionText,promotion:{tag:n.promotionType,tagText:n.promotionText},price:n.price?n.price.toString():void 0,discountPrice:n.discountPrice?n.discountPrice.toString():void 0,description:r.description,properties:r.properties,propertiesText:r.propertiesText,externalUrl:n.externalUrl};return(0,u.jsxs)(m,{children:[(0,u.jsx)(p.Z,{breadcrumbs:k,backLink:"/rentals/".concat(e.url),title:r.name}),(0,u.jsx)(f.Z,{rental:e,product:b})]})};function _(t,e,r,n,o,u,c){try{var i=t[u](c),a=i.value}catch(s){return void r(s)}i.done?e(a):Promise.resolve(a).then(n,o)}var k=function(){var t,e=(t=o().mark((function t(e,r){var n,u,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.jO)(e);case 2:if(!(n=t.sent)){t.next=13;break}return t.next=6,(0,i.Lc)(r);case 6:if(!(u=t.sent)){t.next=13;break}return t.next=10,(0,i.jY)(n.productId);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",{rental:u,product:c,rentalProduct:n});case 13:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function c(t){_(u,n,o,c,i,"next",t)}function i(t){_(u,n,o,c,i,"throw",t)}c(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),b=!0,w=function(t){var e=t.rental,r=t.rentalProduct,n=t.product,o=(0,a.useRouter)(),i=(0,c.useState)({rental:e,rentalProduct:r,product:n}),s=i[0],f=i[1];(0,c.useEffect)((function(){n||k(o.query.id,o.query.product).then(f)}),[]);var p=e||s.rental,l=r||s.rentalProduct,d=n||s.product;return(0,u.jsx)(P,{rental:p,product:d,rentalProduct:l})}}},function(t){t.O(0,[177,651,521,184,774,888,179],(function(){return e=617,t(t.s=e);var e}));var e=t.O();_N_E=e}]);