(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{69431:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rentals/[id]/promotions",function(){return e(18957)}])},18957:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return _},default:function(){return k}});var r=e(94776),o=e.n(r),u=e(52322),a=e(2784),i=e(5632),c=e(71143),s=e(91186),f=e(84532),l=e(11035),p=e(18975),m=e(46497),v=function(n){var t=n.rental,e=n.promotions,r=(0,i.useRouter)(),o=(0,a.useState)(""),v=o[0],d=o[1],h=(0,c.w)().rentals,w=(0,m.S)().activeRental,_=(0,a.useState)(!1),k=_[0],x=_[1],E=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{name:"\u0420\u0435\u043d\u0442\u0430\u043b\u044b",link:"/rentals"},{name:t.name,link:"/rentals/".concat(t.url)},{name:"\u0410\u043a\u0446\u0438\u0438 \u0438 \u043d\u043e\u0432\u0438\u043d\u043a\u0438",link:"/rentals/".concat(t.url,"/promotions")}];(0,a.useEffect)((function(){return x(!0),function(){x(!1)}}),[]),(0,a.useEffect)((function(){if(w&&k){var n=h.find((function(n){return n.id===w}));console.log("go to: /rentals/".concat(n.url)),n&&r.push("/rentals/".concat(n.url))}}),[w]);var C=e.filter((function(n){return"sale"===n.promotionType})).filter((function(n){return 0===v.length||n.name.toLowerCase().includes(v.toLowerCase())})),S=e.filter((function(n){return"new"===n.promotionType})).filter((function(n){return 0===v.length||n.name.toLowerCase().includes(v.toLowerCase())}));return(0,u.jsxs)(f.Z,{children:[(0,u.jsx)(s.Z,{breadcrumbs:E,backLink:"/rentals/".concat(t.url),title:"".concat(t.name,": \u0410\u043a\u0446\u0438\u0438 \u0438 \u043d\u043e\u0432\u0438\u043d\u043a\u0438"),image:(0,l.Z)(t.icon),search:{value:v,onChange:d}}),(0,u.jsx)(p.Z,{news:S,promotions:C})]})},d=e(22624);function h(n,t,e,r,o,u,a){try{var i=n[u](a),c=i.value}catch(s){return void e(s)}i.done?t(c):Promise.resolve(c).then(r,o)}var w=function(){var n,t=(n=o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.Lc)(t);case 2:return e=n.sent,n.next=5,(0,d.MO)(e.id);case 5:return r=n.sent,n.abrupt("return",{rental:e,promotions:r});case 7:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function a(n){h(u,r,o,a,i,"next",n)}function i(n){h(u,r,o,a,i,"throw",n)}a(void 0)}))});return function(n){return t.apply(this,arguments)}}(),_=!0,k=function(n){var t=n.rental,e=n.promotions,r=(0,i.useRouter)(),o=(0,a.useState)(t),c=o[0],s=o[1],f=(0,a.useState)(e),l=f[0],p=f[1];(0,a.useEffect)((function(){t&&e||w(r.query.id).then((function(n){s(n.rental),p(n.promotions)}))}),[]);var m=t||c,d=e||l;return(0,u.jsx)(v,{rental:m,promotions:d})}}},function(n){n.O(0,[177,651,506,521,95,774,888,179],(function(){return t=69431,n(n.s=t);var t}));var t=n.O();_N_E=t}]);